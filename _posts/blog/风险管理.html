<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>äº¤äº’å¼äº¤æ˜“é£é™©ç®¡ç†æŒ‡å—</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@400;500;700&display=swap" rel="stylesheet">
    <!-- Visualization & Content Choices:
        - S1 (Understanding RM): Goal: Inform. Method: Interactive cards for key benefits (HTML/JS). Justification: Quick highlights.
        - S2 (Spectrum of Risks): Goal: Organize/Inform. Method: Filterable grid of risk cards with Unicode icons (HTML/JS). Justification: Easy navigation and quick info retrieval.
        - S3 (Core Principles): Goal: Organize/Inform. Method: Accordion/Tabs (HTML/JS). Justification: Structured presentation of dense info.
        - S4 (Strategies - SL/TP concepts): Goal: Compare/Inform. Method: Bar chart (Chart.js/Canvas) for SL impact. Justification: Visual comparison.
        - S4 (Strategies - Position Sizing): Goal: Inform/Interact. Method: Donut chart (Chart.js/Canvas) for 1% rule visualization & JS calculator. Justification: Visual aid and practical tool.
        - S4 (Strategies - RRR): Goal: Compare. Method: Bar chart (Chart.js/Canvas) for RRR impact. Justification: Demonstrates RRR value.
        - S4 (Strategies - Leverage): Goal: Inform/Interact. Method: JS-driven visual/text update based on a conceptual slider. Justification: Illustrates leverage impact.
        - S5 (Personalized Plan): Goal: Interact/Organize. Method: HTML/JS checklist. Justification: Actionable tool for users.
        - S6 (Psychology): Goal: Inform/Interact. Method: Simple JS quiz/self-assessment, clickable cards for biases. Justification: Engaging way to present psychological aspects.
        - S8 (Pitfalls): Goal: Inform/Interact. Method: Interactive "Mistake Cards" (HTML/JS flip/reveal). Justification: Engaging learning.
        - Diagrams (e.g., simple process flow for personal plan elements): HTML/CSS with Tailwind. Justification: Visualizing steps without SVG/Mermaid.
        - All choices adhere to NO SVG/Mermaid, using Chart.js for charts on Canvas, and HTML/CSS/JS for other visuals and interactions. The designed structure supports better usability and exploration of the report's content.
    -->
    <style>
        body {
            font-family: 'Noto Sans SC', sans-serif;
            background-color: #F8F7F2; /* Warm Off-White */
            color: #4A4A4A; /* Dark Gray */
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 500px; /* Slightly smaller for better fit in cards */
            margin-left: auto;
            margin-right: auto;
            height: 280px; /* Adjusted base height */
            max-height: 350px;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 320px; /* Adjusted md height */
            }
        }
        .nav-link {
            transition: color 0.3s ease;
            color: #FEFEFE;
        }
        .nav-link:hover, .nav-link-active {
            color: #E0D8C0; /* Lighter beige for hover/active */
        }
        .section-title {
            color: #6C7A89; /* Cool Slate Blue */
        }
        .card {
            background-color: #FFFFFF;
            border-radius: 0.75rem; /* 12px */
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            transition: transform 0.2s ease-out, box-shadow 0.2s ease-out;
        }
        .card:hover {
            transform: translateY(-4px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }
        .button-accent {
            background-color: #6C7A89; /* Cool Slate Blue */
            color: white;
            transition: background-color 0.3s ease;
        }
        .button-accent:hover {
            background-color: #505A65; /* Darker Slate Blue */
        }
        .tab-button {
            background-color: #E0D8C0; /* Soft Beige */
            color: #4A4A4A;
            border: 1px solid #D1C5B4;
        }
        .tab-button.active {
            background-color: #6C7A89;
            color: white;
            border-color: #6C7A89;
        }
        .accordion-header {
            background-color: #FFFFFF;
            border-bottom: 1px solid #E0D8C0; /* Soft Beige divider */
        }
        .accordion-header:hover {
            background-color: #FAF8F2;
        }
        .accent-text { color: #6C7A89; }
        .subtle-bg { background-color: #FAF8F2; } /* Very light beige for section alternate bg */

        /* Styles for interactive flip cards */
        .flip-card { perspective: 1000px; }
        .flip-card-inner { position: relative; width: 100%; height: 100%; text-align: center; transition: transform 0.6s; transform-style: preserve-3d; }
        .flip-card:hover .flip-card-inner { transform: rotateY(180deg); }
        .flip-card-front, .flip-card-back { position: absolute; width: 100%; height: 100%; -webkit-backface-visibility: hidden; backface-visibility: hidden; display: flex; flex-direction: column; justify-content: center; align-items: center; padding: 1rem; border-radius: 0.75rem; }
        .flip-card-front { background-color: #FFFFFF; border: 1px solid #D1C5B4; }
        .flip-card-back { background-color: #6C7A89; color: white; transform: rotateY(180deg); }

        /* Custom scrollbar for better aesthetics (optional) */
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #F8F7F2; }
        ::-webkit-scrollbar-thumb { background: #D1C5B4; border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: #A27B5C; }
    </style>
</head>
<body class="antialiased">

    <nav class="bg-[#4A4A4A] shadow-md sticky top-0 z-50">
        <div class="container mx-auto px-6 py-3">
            <div class="flex items-center justify-between">
                <div class="text-xl font-semibold text-white">äº¤æ˜“é£é™©ç®¡ç†</div>
                <div class="hidden md:flex space-x-4">
                    <a href="#understanding-rm" class="nav-link">è®¤è¯†é£é™©</a>
                    <a href="#spectrum-of-risks" class="nav-link">é£é™©æ¦‚è§ˆ</a>
                    <a href="#core-principles" class="nav-link">æ ¸å¿ƒåŸåˆ™</a>
                    <a href="#practical-strategies" class="nav-link">å®æˆ˜ç­–ç•¥</a>
                    <a href="#personalized-plan" class="nav-link">å®šåˆ¶è®¡åˆ’</a>
                    <a href="#trading-psychology" class="nav-link">äº¤æ˜“å¿ƒç†</a>
                    <a href="#common-pitfalls" class="nav-link">å¸¸è§è¯¯åŒº</a>
                </div>
                <button id="mobile-menu-button" class="md:hidden text-white focus:outline-none">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path></svg>
                </button>
            </div>
            <div id="mobile-menu" class="hidden md:hidden mt-2 space-y-2">
                <a href="#understanding-rm" class="block nav-link px-2 py-1 rounded">è®¤è¯†é£é™©</a>
                <a href="#spectrum-of-risks" class="block nav-link px-2 py-1 rounded">é£é™©æ¦‚è§ˆ</a>
                <a href="#core-principles" class="block nav-link px-2 py-1 rounded">æ ¸å¿ƒåŸåˆ™</a>
                <a href="#practical-strategies" class="block nav-link px-2 py-1 rounded">å®æˆ˜ç­–ç•¥</a>
                <a href="#personalized-plan" class="block nav-link px-2 py-1 rounded">å®šåˆ¶è®¡åˆ’</a>
                <a href="#trading-psychology" class="block nav-link px-2 py-1 rounded">äº¤æ˜“å¿ƒç†</a>
                <a href="#common-pitfalls" class="block nav-link px-2 py-1 rounded">å¸¸è§è¯¯åŒº</a>
            </div>
        </div>
    </nav>

    <div class="container mx-auto px-4 sm:px-6 lg:px-8 py-8">

        <section id="understanding-rm" class="mb-16 pt-12">
            <h2 class="text-3xl font-bold section-title mb-3 text-center">è®¤è¯†é£é™©ç®¡ç†</h2>
            <p class="text-lg text-gray-700 mb-8 text-center max-w-3xl mx-auto">é£é™©ç®¡ç†æ˜¯äº¤æ˜“æˆåŠŸçš„åŸºçŸ³ï¼Œå®ƒå¸®åŠ©äº¤æ˜“è€…åœ¨å˜å¹»è«æµ‹çš„å¸‚åœºä¸­ä¿æŠ¤èµ„æœ¬ã€å®ç°é•¿æœŸç›ˆåˆ©ï¼Œå¹¶å°†äº¤æ˜“ä»èµŒåšè½¬å˜ä¸ºä¸€é¡¹ä¸“ä¸šçš„ã€å¯æŒç»­çš„äº‹ä¸šã€‚</p>
            <div class="grid md:grid-cols-3 gap-6">
                <div class="card p-6 text-center">
                    <div class="text-4xl accent-text mb-3">ğŸ›¡ï¸</div>
                    <h3 class="text-xl font-semibold mb-2">èµ„æœ¬ä¿å…¨</h3>
                    <p class="text-sm text-gray-600">é£é™©ç®¡ç†çš„é¦–è¦ç›®æ ‡æ˜¯ä¿æŠ¤æ‚¨çš„äº¤æ˜“èµ„æœ¬ï¼Œé¿å…ç¾éš¾æ€§æŸå¤±ï¼Œç¡®ä¿æ‚¨èƒ½æŒç»­å‚ä¸å¸‚åœºã€‚</p>
                </div>
                <div class="card p-6 text-center">
                    <div class="text-4xl accent-text mb-3">ğŸ“ˆ</div>
                    <h3 class="text-xl font-semibold mb-2">é•¿æœŸæˆåŠŸ</h3>
                    <p class="text-sm text-gray-600">æœ‰æ•ˆçš„é£é™©ç®¡ç†æœ‰åŠ©äºè¯†åˆ«å’Œç®¡ç†æ½œåœ¨é£é™©ï¼Œæ˜¯å®ç°é•¿æœŸã€ç¨³å®šç›ˆåˆ©çš„å…³é”®ã€‚</p>
                </div>
                <div class="card p-6 text-center">
                    <div class="text-4xl accent-text mb-3">ğŸ§­</div>
                    <h3 class="text-xl font-semibold mb-2">æˆ˜ç•¥å†³ç­–</h3>
                    <p class="text-sm text-gray-600">ç†è§£å¹¶é‡åŒ–é£é™©ï¼Œä½¿æ‚¨èƒ½æ›´æœ‰ä¿¡å¿ƒåœ°æ‰¿æ‹…ç»è¿‡è®¡ç®—çš„é£é™©ï¼ŒæŠ“ä½æœ‰åˆ©çš„äº¤æ˜“æœºä¼šã€‚</p>
                </div>
            </div>
        </section>

        <section id="spectrum-of-risks" class="mb-16 pt-12 subtle-bg py-12 rounded-lg">
            <h2 class="text-3xl font-bold section-title mb-3 text-center">é£é™©é¢é¢è§‚</h2>
            <p class="text-lg text-gray-700 mb-8 text-center max-w-3xl mx-auto">äº¤æ˜“ä¸–ç•Œå……æ»¡å„ç§é£é™©ã€‚å…¨é¢äº†è§£è¿™äº›é£é™©ï¼Œæ˜¯åˆ¶å®šæœ‰æ•ˆåº”å¯¹ç­–ç•¥çš„ç¬¬ä¸€æ­¥ã€‚ç‚¹å‡»ä¸‹æ–¹å¡ç‰‡æŸ¥çœ‹è¯¦æƒ…ã€‚</p>
            <div id="risk-cards-container" class="grid sm:grid-cols-2 lg:grid-cols-3 gap-6">
                </div>
        </section>

        <section id="core-principles" class="mb-16 pt-12">
            <h2 class="text-3xl font-bold section-title mb-3 text-center">é£é™©ç®¡ç†æ ¸å¿ƒåŸåˆ™</h2>
            <p class="text-lg text-gray-700 mb-8 text-center max-w-3xl mx-auto">æœ‰æ•ˆçš„é£é™©ç®¡ç†å»ºç«‹åœ¨ä¸€ç³»åˆ—æ ¸å¿ƒåŸåˆ™ä¹‹ä¸Šï¼Œå®ƒä»¬å…±åŒæ„æˆäº†ç¨³å¥äº¤æ˜“è¡Œä¸ºçš„æŒ‡å¯¼æ¡†æ¶ã€‚</p>
            <div id="principles-accordion" class="space-y-2">
                </div>
        </section>

        <section id="practical-strategies" class="mb-16 pt-12 subtle-bg py-12 rounded-lg">
            <h2 class="text-3xl font-bold section-title mb-3 text-center">å®æˆ˜ç­–ç•¥ä¸å·¥å…·</h2>
            <p class="text-lg text-gray-700 mb-8 text-center max-w-3xl mx-auto">æŒæ¡è¿™äº›å…·ä½“ç­–ç•¥å’Œå·¥å…·ï¼Œå°†å¸®åŠ©æ‚¨åœ¨å®è·µä¸­æœ‰æ•ˆæ§åˆ¶é£é™©ï¼Œä¸ºäº¤æ˜“ä¿é©¾æŠ¤èˆªã€‚</p>
            <div class="grid md:grid-cols-2 gap-8">
                <div class="card p-6">
                    <h3 class="text-xl font-semibold mb-4 text-center accent-text">æ­¢æŸä¸æ­¢ç›ˆæ¦‚å¿µ</h3>
                    <p class="text-sm text-gray-600 mb-4">æ­¢æŸè®¢å•ç”¨äºé™åˆ¶å•ç¬”äº¤æ˜“çš„æœ€å¤§äºæŸï¼Œæ­¢ç›ˆè®¢å•åˆ™ç”¨äºåœ¨è¾¾åˆ°é¢„å®šç›®æ ‡æ—¶é”å®šåˆ©æ¶¦ã€‚ä¸¤è€…éƒ½åº”åœ¨äº¤æ˜“å‰è®¾å®šã€‚</p>
                    <div class="chart-container">
                        <canvas id="stopLossConceptChart"></canvas>
                    </div>
                    <p class="text-xs text-gray-500 mt-2 text-center">å›¾è¡¨è¯´æ˜ï¼šä¸åŒæ­¢æŸç­–ç•¥å¯¹å‡è®¾èµ„æœ¬çš„å½±å“ã€‚</p>
                </div>
                <div class="card p-6">
                    <h3 class="text-xl font-semibold mb-4 text-center accent-text">å¤´å¯¸è§„æ¨¡ (1%è§„åˆ™)</h3>
                    <p class="text-sm text-gray-600 mb-2">â€œ1%è§„åˆ™â€å»ºè®®å•ç¬”äº¤æ˜“é£é™©ä¸è¶…è¿‡æ€»èµ„æœ¬çš„1%ã€‚è¿™æœ‰åŠ©äºåœ¨è¿ç»­äºæŸæ—¶ä¿æŠ¤è´¦æˆ·ã€‚</p>
                    <div class="chart-container mb-4">
                        <canvas id="positionSizingDonutChart"></canvas>
                    </div>
                    <div class="space-y-3">
                        <div>
                            <label for="accountCapital" class="block text-sm font-medium text-gray-700">è´¦æˆ·æ€»èµ„æœ¬ (å…ƒ):</label>
                            <input type="number" id="accountCapital" value="100000" class="mt-1 block w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm">
                        </div>
                        <div>
                            <label for="riskPercentage" class="block text-sm font-medium text-gray-700">æ„¿æ„æ‰¿æ‹…çš„é£é™©ç™¾åˆ†æ¯” (%):</label>
                            <input type="number" id="riskPercentage" value="1" step="0.1" class="mt-1 block w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm">
                        </div>
                        <div>
                            <label for="stopLossDistance" class="block text-sm font-medium text-gray-700">æ­¢æŸè·ç¦» (ä¾‹å¦‚: è‚¡ç¥¨ä¸ºå…ƒ, å¤–æ±‡ä¸ºç‚¹):</label>
                            <input type="number" id="stopLossDistance" value="10" class="mt-1 block w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm">
                        </div>
                        <button id="calculatePositionSize" class="w-full button-accent font-semibold py-2 px-4 rounded-md">è®¡ç®—å»ºè®®é£é™©é‡‘é¢</button>
                        <p id="positionSizeResult" class="mt-2 text-sm text-center text-gray-700"></p>
                    </div>
                     <p class="text-xs text-gray-500 mt-2 text-center">æ³¨ï¼šä¸Šæ–¹è®¡ç®—å™¨ä»…ä¸ºæ¦‚å¿µæ¼”ç¤ºï¼Œå®é™…å¤´å¯¸å•ä½éœ€ç»“åˆåˆçº¦è§„æ ¼ã€‚</p>
                </div>
                <div class="card p-6">
                    <h3 class="text-xl font-semibold mb-4 text-center accent-text">é£é™©å›æŠ¥æ¯” (RRR)</h3>
                    <p class="text-sm text-gray-600 mb-4">è¯„ä¼°æ½œåœ¨åˆ©æ¶¦ä¸æ½œåœ¨äºæŸçš„æ¯”ç‡ã€‚æœ‰åˆ©çš„RRRï¼ˆé€šå¸¸å»ºè®®è‡³å°‘1:2ï¼‰æœ‰åŠ©äºé•¿æœŸç›ˆåˆ©ã€‚</p>
                    <div class="chart-container">
                        <canvas id="rrrConceptChart"></canvas>
                    </div>
                    <p class="text-xs text-gray-500 mt-2 text-center">å›¾è¡¨è¯´æ˜ï¼šä¸åŒé£é™©å›æŠ¥æ¯”å¯¹é•¿æœŸç›ˆåˆ©èƒ½åŠ›çš„æ½œåœ¨å½±å“ã€‚</p>
                </div>
                <div class="card p-6">
                    <h3 class="text-xl font-semibold mb-4 text-center accent-text">æ æ†ç®¡ç†</h3>
                    <p class="text-sm text-gray-600 mb-2">æ æ†èƒ½æ”¾å¤§æ”¶ç›Šï¼Œä¹Ÿèƒ½æ”¾å¤§äºæŸã€‚å®¡æ…ä½¿ç”¨æ˜¯å…³é”®ã€‚</p>
                    <label for="leverageSlider" class="block text-sm font-medium text-gray-700">æ¨¡æ‹Ÿæ æ†å€æ•° (1x - 50x): <span id="leverageValue" class="font-bold accent-text">1x</span></label>
                    <input type="range" id="leverageSlider" min="1" max="50" value="1" class="w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-[#6C7A89] mt-1 mb-3">
                    <p class="text-sm text-gray-600">å‡è®¾åˆå§‹æ³¢åŠ¨å¯¼è‡´100å…ƒç›ˆåˆ©/äºæŸï¼š</p>
                    <p class="text-sm">æ— æ æ†: <span class="font-semibold">ç›ˆåˆ©/äºæŸ 100å…ƒ</span></p>
                    <p class="text-sm">ä½¿ç”¨ <span id="leverageDisplay" class="font-bold accent-text">1x</span> æ æ†: <span id="leveragedOutcome" class="font-semibold">ç›ˆåˆ©/äºæŸ 100å…ƒ</span></p>
                    <p class="text-xs text-gray-500 mt-3">é‡è¦æç¤ºï¼šè¿™ä»…ä¸ºç®€åŒ–æ¼”ç¤ºã€‚å®é™…æ æ†å½±å“å¤æ‚ï¼Œæ¶‰åŠä¿è¯é‡‘ã€å¼ºåˆ¶å¹³ä»“ç­‰ã€‚åŠ¡å¿…å……åˆ†å­¦ä¹ å¹¶ä»å°é¢å¼€å§‹ã€‚</p>
                </div>
            </div>
        </section>

        <section id="personalized-plan" class="mb-16 pt-12">
            <h2 class="text-3xl font-bold section-title mb-3 text-center">å®šåˆ¶æ‚¨çš„é£é™©è®¡åˆ’</h2>
            <p class="text-lg text-gray-700 mb-8 text-center max-w-3xl mx-auto">æ²¡æœ‰â€œä¸€åˆ€åˆ‡â€çš„é£é™©ç®¡ç†æ–¹æ¡ˆã€‚ç»“åˆæ‚¨çš„äº¤æ˜“èµ„æœ¬ã€ç›®æ ‡ã€é£æ ¼å’Œé£é™©æ‰¿å—èƒ½åŠ›ï¼Œæ€è€ƒå¹¶è®°å½•æ‚¨çš„ä¸ªæ€§åŒ–é£é™©è§„åˆ™ã€‚</p>
            <div class="card p-6">
                <h3 class="text-xl font-semibold mb-4 accent-text">é£é™©è®¡åˆ’è¦ç´ æ¸…å• (æ€è€ƒä¸è®°å½•):</h3>
                <ul id="planElementsList" class="space-y-3">
                    </ul>
            </div>
            <div class="mt-6 p-4 subtle-bg rounded-lg text-sm text-gray-700">
                <h4 class="font-semibold text-gray-800 mb-2">ç®€åŒ–é£é™©ç®¡ç†æµç¨‹ï¼š</h4>
                <div class="flex flex-wrap justify-center items-center gap-2 text-center">
                    <span class="p-2 bg-white rounded shadow-sm">1. è§„åˆ’ä¸å‡†å¤‡</span> <span class="text-accent-text font-bold">&rarr;</span>
                    <span class="p-2 bg-white rounded shadow-sm">2. è¯†åˆ«é£é™©</span> <span class="text-accent-text font-bold">&rarr;</span>
                    <span class="p-2 bg-white rounded shadow-sm">3. è¯„ä¼°é£é™©</span> <span class="text-accent-text font-bold">&rarr;</span>
                    <span class="p-2 bg-white rounded shadow-sm">4. è®¾å®šå‚æ•°</span> <span class="text-accent-text font-bold">&rarr;</span>
                    <span class="p-2 bg-white rounded shadow-sm">5. æ‰§è¡Œä¸ç›‘æ§</span> <span class="text-accent-text font-bold">&rarr;</span>
                    <span class="p-2 bg-white rounded shadow-sm">6. å¤ç›˜è°ƒæ•´</span>
                </div>
                 <p class="mt-3 text-xs text-center">è¿™æ˜¯ä¸€ä¸ªæŒç»­è¿­ä»£çš„è¿‡ç¨‹ï¼Œå¸®åŠ©æ‚¨ä¸æ–­ä¼˜åŒ–é£é™©ç®¡ç†ç­–ç•¥ã€‚</p>
            </div>
        </section>

        <section id="trading-psychology" class="mb-16 pt-12 subtle-bg py-12 rounded-lg">
            <h2 class="text-3xl font-bold section-title mb-3 text-center">äº¤æ˜“å¿ƒç†ä¸æƒ…ç»ªç®¡ç†</h2>
            <p class="text-lg text-gray-700 mb-8 text-center max-w-3xl mx-auto">æƒ…ç»ªæ˜¯å½±å“äº¤æ˜“å†³ç­–å’Œé£é™©ç®¡ç†æ‰§è¡Œçš„å…³é”®ã€‚ç†è§£å¹¶æ§åˆ¶ææƒ§ã€è´ªå©ªç­‰å¸¸è§æƒ…ç»ªå’Œè®¤çŸ¥åå·®ï¼Œæ˜¯ç»´æŒäº¤æ˜“çºªå¾‹çš„åŸºçŸ³ã€‚</p>
            <div class="grid md:grid-cols-2 gap-6">
                <div class="card p-6">
                    <h3 class="text-xl font-semibold mb-3 accent-text">å¸¸è§æƒ…ç»ªæŒ‘æˆ˜</h3>
                    <div id="emotion-cards-container">
                        </div>
                </div>
                <div class="card p-6">
                    <h3 class="text-xl font-semibold mb-3 accent-text">æƒ…ç»ªç®¡ç†æŠ€å·§</h3>
                    <ul id="discipline-techniques-list" class="list-disc list-inside space-y-2 text-sm text-gray-600">
                        </ul>
                </div>
            </div>
        </section>

        <section id="common-pitfalls" class="mb-16 pt-12">
            <h2 class="text-3xl font-bold section-title mb-3 text-center">å¸¸è§è¯¯åŒºä¸è§„é¿</h2>
            <p class="text-lg text-gray-700 mb-8 text-center max-w-3xl mx-auto">è¯†åˆ«å¹¶é¿å…è¿™äº›å¸¸è§çš„é£é™©ç®¡ç†é”™è¯¯ï¼Œæ˜¯æå‡äº¤æ˜“è¡¨ç°ã€èµ°å‘ç¨³å®šç›ˆåˆ©çš„å…³é”®ã€‚</p>
            <div id="pitfalls-container" class="grid sm:grid-cols-2 lg:grid-cols-3 gap-6">
                </div>
        </section>

        <section id="continuous-learning" class="pt-12 pb-16 text-center subtle-bg py-12 rounded-lg">
             <h2 class="text-3xl font-bold section-title mb-3">æŒç»­å­¦ä¹ ä¸ç²¾è¿›</h2>
            <p class="text-lg text-gray-700 mb-6 max-w-2xl mx-auto">é£é™©ç®¡ç†å¹¶éä¸€åŠ³æ°¸é€¸ï¼Œè€Œæ˜¯ä¸€ä¸ªæŒç»­å­¦ä¹ ã€å®è·µå’Œé€‚åº”çš„æ—…ç¨‹ã€‚å°†é£é™©æ„è¯†å†…åŒ–ä¸ºäº¤æ˜“ä¹ æƒ¯ï¼Œæ–¹èƒ½åœ¨å¸‚åœºä¸­è¡Œç¨³è‡´è¿œã€‚</p>
            <a href="#understanding-rm" class="button-accent font-semibold py-3 px-6 rounded-lg text-lg">é‡æ¸©æ ¸å¿ƒæ¦‚å¿µ</a>
        </section>

    </div>

    <footer class="bg-[#4A4A4A] text-gray-300 py-8 text-center text-sm">
        <p>&copy; <span id="currentYear"></span> äº¤äº’å¼äº¤æ˜“é£é™©ç®¡ç†æŒ‡å—ã€‚å†…å®¹ä»…ä¾›å­¦ä¹ å‚è€ƒã€‚</p>
    </footer>

    <script>
        // Smooth scroll for nav links
        document.querySelectorAll('nav a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const targetId = this.getAttribute('href');
                const targetElement = document.querySelector(targetId);
                if (targetElement) {
                    const offset = document.querySelector('nav').offsetHeight; // Adjust for sticky nav
                    const bodyRect = document.body.getBoundingClientRect().top;
                    const elementRect = targetElement.getBoundingClientRect().top;
                    const elementPosition = elementRect - bodyRect;
                    const offsetPosition = elementPosition - offset;

                    window.scrollTo({
                        top: offsetPosition,
                        behavior: 'smooth'
                    });
                }
                // Close mobile menu if open
                const mobileMenu = document.getElementById('mobile-menu');
                if (!mobileMenu.classList.contains('hidden')) {
                    mobileMenu.classList.add('hidden');
                }
            });
        });

        // Mobile menu toggle
        const mobileMenuButton = document.getElementById('mobile-menu-button');
        const mobileMenu = document.getElementById('mobile-menu');
        mobileMenuButton.addEventListener('click', () => {
            mobileMenu.classList.toggle('hidden');
        });

        document.getElementById('currentYear').textContent = new Date().getFullYear();

        // --- Data for dynamic content ---
        const risksData = [
            { name: "å¸‚åœºé£é™©", icon: "ğŸ“‰", description: "æºäºæ•´ä½“å¸‚åœºæ³¢åŠ¨ï¼Œå¦‚ç»æµè¡°é€€ã€æ”¿ç­–å˜åŠ¨ç­‰ç³»ç»Ÿæ€§å› ç´ ï¼Œéš¾ä»¥é€šè¿‡åˆ†æ•£æŠ•èµ„å®Œå…¨è§„é¿ã€‚" },
            { name: "æµåŠ¨æ€§é£é™©", icon: "ğŸ’§", description: "æŒ‡èµ„äº§éš¾ä»¥æŒ‰æœŸæœ›ä»·æ ¼å¿«é€Ÿä¹°å–çš„é£é™©ï¼Œå¸¸è§äºäº¤æ˜“é‡ä½æˆ–æç«¯è¡Œæƒ…ä¸‹çš„å¸‚åœºã€‚" },
            { name: "æ æ†é£é™©", icon: "âš–ï¸", description: "æ æ†èƒ½æ”¾å¤§æ½œåœ¨æ”¶ç›Šï¼Œä½†ä¹ŸåŒç­‰æ”¾å¤§æ½œåœ¨äºæŸï¼Œæ˜¯æŠŠåŒåˆƒå‰‘ï¼Œéœ€æåº¦å®¡æ…ä½¿ç”¨ã€‚" },
            { name: "ç‰¹å®šé£é™©", icon: "ğŸ¯", description: "ä¸ç‰¹å®šè¯åˆ¸çš„è¡¨ç°ç›´æ¥ç›¸å…³ï¼ˆä¾‹å¦‚ï¼ŒæŸå…¬å¸å®£å¸ƒç ´äº§ï¼‰ï¼Œå¯é€šè¿‡æŠ•èµ„ç»„åˆå¤šå…ƒåŒ–æ¥å‡è½»ã€‚" },
            { name: "åˆ©ç‡é£é™©", icon: "ğŸ“ˆ", description: "ä¸»è¦å½±å“å›ºå®šæ”¶ç›Šè¯åˆ¸ï¼Œä½†ä¹Ÿå¯èƒ½å¯¹è‚¡ç¥¨äº§ç”Ÿå½±å“ã€‚" },
            { name: "è´§å¸é£é™©", icon: "ğŸŒ", description: "æºäºä¸€ç§è´§å¸ç›¸å¯¹äºå¦ä¸€ç§è´§å¸ä»·æ ¼çš„å˜åŠ¨ï¼Œä¸å›½é™…æŠ•èµ„æˆ–å¤–æ±‡äº¤æ˜“å¯†åˆ‡ç›¸å…³ã€‚" },
            { name: "æ“ä½œé£é™©", icon: "âš™ï¸", description: "å¯¹äºä¸ªäººäº¤æ˜“è€…ï¼Œå¯èƒ½æŒ‡äº¤æ˜“å¹³å°æ•…éšœã€ç½‘ç»œé—®é¢˜æˆ–äº¤æ˜“æ‰§è¡Œé”™è¯¯ã€‚" },
            { name: "ç›‘ç®¡é£é™©", icon: "ğŸ“œ", description: "æ³•å¾‹æ³•è§„å˜åŒ–å¯¹ç‰¹å®šèµ„äº§æˆ–å¸‚åœºäº§ç”Ÿå½±å“çš„é£é™©ï¼Œä¾‹å¦‚åŠ å¯†è´§å¸å¸‚åœºã€‚" }
        ];

        const principlesData = [
            { title: "å®¡æ…æ€§åŸåˆ™", content: "åŸºäºé£é™©ä¸ºæœ¬çš„ç†å¿µï¼Œå……åˆ†é‡è§†é£é™©è‹—å¤´å’Œæ½œåœ¨éšæ‚£ï¼Œæœ‰æ•ˆè¯†åˆ«å½±å“é£é™©ç®¡ç†çš„ä¸åˆ©å› ç´ ï¼Œé…ç½®å……è¶³èµ„æºï¼ŒåŠæ—¶é‡‡å–æªæ–½ï¼Œæå‡å‰ç»æ€§ã€‚" },
            { title: "å…¨é¢æ€§åŸåˆ™", content: "è¦†ç›–æ‰€æœ‰äº¤æ˜“ç¯èŠ‚å’Œç›¸å…³é£é™©ç±»å‹ï¼Œç¡®ä¿é£é™©è¯†åˆ«å’Œç®¡ç†çš„æ— é‡å¤§é—æ¼ã€‚è€ƒè™‘ä»å¸‚åœºé€‰æ‹©åˆ°æ‰§è¡Œå†åˆ°å¿ƒç†å› ç´ çš„æ‰€æœ‰æ½œåœ¨é£é™©ã€‚" },
            { title: "åŒ¹é…æ€§åŸåˆ™", content: "é£é™©ç®¡ç†ä½“ç³»å’Œèµ„æºåº”ä¸äº¤æ˜“è€…çš„èµ„é‡‘è§„æ¨¡ã€ç­–ç•¥å¤æ‚æ€§å’Œé£é™©çŠ¶å†µç›¸é€‚åº”ï¼Œå¹¶æ ¹æ®æƒ…å†µå˜åŒ–åŠæ—¶è°ƒæ•´ã€‚" },
            { title: "æœ‰æ•ˆæ€§åŸåˆ™", content: "ä»¥é£é™©åå¥½ä¸ºå¯¼å‘ï¼Œæœ‰æ•ˆè¯†åˆ«ã€è¯„ä¼°ã€è®¡é‡ã€æ§åˆ¶ã€ç¼“é‡Šã€ç›‘æµ‹ã€æŠ¥å‘Šæ‰€é¢ä¸´çš„äº¤æ˜“é£é™©ï¼Œå°†é£é™©æ§åˆ¶åœ¨å¯æ‰¿å—èŒƒå›´ä¹‹å†…ã€‚å®šæœŸå®¡è§†å’Œè°ƒæ•´ç­–ç•¥ã€‚" },
            { title: "èµ„æœ¬ä¿å…¨", content: "é£é™©ç®¡ç†çš„æ ¸å¿ƒæ€æƒ³æ˜¯é€šè¿‡å°†æŸå¤±é™åˆ¶åœ¨å¯æ¥å—çš„èŒƒå›´å†…æ¥ä¿æŠ¤èµ„æœ¬ã€‚äº¤æ˜“èµ„æœ¬æ˜¯é¦–è¦å·¥å…·ï¼Œä¿æŠ¤å®ƒæ˜¯ç¬¬ä¸€è¦åŠ¡ã€‚" },
            { title: "ä¸€è‡´æ€§", content: "åœ¨é£é™©è§„åˆ™çš„åº”ç”¨ä¸Šï¼Œä¸€è‡´æ€§è‡³å…³é‡è¦ã€‚ä¾‹å¦‚ä¸¥æ ¼éµå®ˆâ€œ1%è§„åˆ™â€ï¼ŒæŒç»­åº”ç”¨çš„æ¬¡ä¼˜è®¡åˆ’ä¼˜äºä¸æŒç»­åº”ç”¨çš„æœ€ä¼˜è®¡åˆ’ã€‚" },
            { title: "çºªå¾‹æ€§", content: "æªå®ˆé¢„å®šè§„åˆ™æ˜¯ç®¡ç†é£é™©çš„ä¸€ç§æ–¹å¼ã€‚è€å¿ƒå’Œçºªå¾‹èƒ½ç¡®ä¿äº¤æ˜“è€…åšæŒç­–ç•¥ï¼Œä¸åç¦»é¢„è®¾çš„é£é™©æ‰¿å—æ°´å¹³ã€‚" }
        ];

        const planElementsData = [
            "æ¯ç¬”äº¤æ˜“æœ€å¤§é£é™© (ä¾‹å¦‚è´¦æˆ·èµ„æœ¬çš„1-2%)",
            "æœ€å¤§å›æ’¤é™åˆ¶ (æ¯æ—¥/æ¯å‘¨/æ¯æœˆ)",
            "å…·ä½“çš„æ­¢æŸç­–ç•¥ (åŸºäºæŠ€æœ¯åˆ†æã€æ³¢åŠ¨ç‡ç­‰)",
            "å¤´å¯¸è§„æ¨¡è®¡ç®—è§„åˆ™",
            "æœ€å°é£é™©å›æŠ¥æ¯”æ ‡å‡† (ä¾‹å¦‚1:2)",
            "æ æ†ä½¿ç”¨è§„åˆ™ (å¦‚é€‚ç”¨)",
            "å®šæœŸå®¡é˜…å’Œè°ƒæ•´è®¡åˆ’çš„æœºåˆ¶"
        ];

        const emotionData = [
            { emotion: "ææƒ§ (Fear)", impact: "çŠ¹è±«é”™å¤±è‰¯æœºã€è¿‡æ—©å¹³ç›ˆåˆ©å•ã€æ­»æ‰›äºæŸå•ã€‚", icon: "ğŸ˜¨" },
            { emotion: "è´ªå©ª (Greed)", impact: "è¿‡åº¦äº¤æ˜“ã€æ‰¿æ‹…è¿‡é«˜é£é™©ã€äºæŸå•ä¸Šâ€œåŠ å€ä¸‹æ³¨â€ã€‚", icon: "ğŸ¤‘" },
            { emotion: "å¸Œæœ›/å¦è®¤", impact: "æŒç»­æŒæœ‰äºæŸå¤´å¯¸ï¼Œæ‹’ç»æ‰¿è®¤äºæŸç°å®ã€‚", icon: "ğŸ¤" },
            { emotion: "è¿‡åº¦è‡ªä¿¡", impact: "ä¸€ç³»åˆ—æˆåŠŸåï¼Œæ‰¿æ‹…è¶…å‡ºå¹³å¸¸æ°´å¹³çš„é£é™©ã€‚", icon: "ğŸ˜" },
            { emotion: "æŸå¤±åŒæ¶", impact: "äºæŸç—›è‹¦è¿œå¤§äºç­‰é‡æ”¶ç›Šå–œæ‚¦ï¼Œå½±å“å†³ç­–ã€‚", icon: "ğŸ’”" },
            { emotion: "ç¡®è®¤åè¯¯", impact: "é€‰æ‹©æ€§å¯»æ‰¾è¯å®è‡ªå·±å†³ç­–çš„ä¿¡æ¯ï¼Œå¿½ç•¥çŸ›ç›¾æ•°æ®ã€‚", icon: "ğŸ‘" }
        ];

        const disciplineTechniques = [
            "ä¸¥æ ¼éµå®ˆäº¤æ˜“è®¡åˆ’",
            "å‡å°äº¤æ˜“è§„æ¨¡ä»¥å‡è½»æƒ…ç»ªå‹åŠ›",
            "åœ¨é‡å¤§ç›ˆäºæˆ–æƒ…ç»ªæ³¢åŠ¨åé€‚æ—¶ä¼‘æ¯",
            "æ’°å†™äº¤æ˜“æ—¥å¿—ï¼Œè®°å½•å†³ç­–ä¸æƒ…ç»ªï¼Œç”¨äºåæ€",
            "ç»ƒä¹ æ­£å¿µä¸è‡ªæˆ‘è§‰å¯Ÿï¼Œè¯†åˆ«æƒ…ç»ªè‹—å¤´",
            "å…³æ³¨æ‰§è¡Œè¿‡ç¨‹ï¼Œè€Œéå•ç¬”äº¤æ˜“çš„ç›ˆäºç»“æœ",
            "æ¥å—äºæŸæ˜¯äº¤æ˜“çš„å¿…ç„¶ç»„æˆéƒ¨åˆ†"
        ];

        const pitfallsData = [
            { mistake: "è¿‡åº¦ä½¿ç”¨æ æ†", solution: "ä»ä½æ æ†å¼€å§‹ï¼Œç†è§£çœŸå®é£é™©ï¼Œé£é™©æ•å£æ§åˆ¶åœ¨æ€»èµ„æœ¬çš„1-3%ã€‚", details: "é«˜æ æ†æ˜¾è‘—å¢åŠ ç²¾ç¥è´Ÿæ‹…å’ŒäºæŸé£é™©ã€‚" },
            { mistake: "ä¸è®¾/ä¸å°Šæ­¢æŸ", solution: "æ¥å—äºæŸæ˜¯å¸¸æ€ï¼Œå…¥åœºå‰å¿…è®¾æ­¢æŸå¹¶ä¸¥æ ¼æ‰§è¡Œã€‚", details: "å®³æ€•äºæŸæˆ–ä¾¥å¹¸å¿ƒç†å¯¼è‡´å¤§æŸå¤±ã€‚" },
            { mistake: "æƒ…ç»ªåŒ–äº¤æ˜“", solution: "åˆ¶å®šå¹¶åšå®ˆäº¤æ˜“è®¡åˆ’ï¼Œæƒ…ç»ªæ³¢åŠ¨æ—¶æš‚åœäº¤æ˜“ã€‚", details: "å‡­æ„Ÿè§‰è€Œéè®¡åˆ’äº¤æ˜“ï¼Œéš¾ä»¥æŒä¹…ã€‚" },
            { mistake: "é£é™©å›æŠ¥æ¯”å¤±è¡¡", solution: "è¿½æ±‚â€œæŸå°åˆ©å¤§â€ï¼Œé€‰æ‹©RRRè‡³å°‘1:2çš„äº¤æ˜“æœºä¼šã€‚", details: "å†’å¤§é£é™©è¿½å°åˆ©æ¶¦ï¼Œé•¿æœŸéš¾ç›ˆåˆ©ã€‚" },
            { mistake: "æ— æ˜ç¡®äº¤æ˜“ç­–ç•¥", solution: "å­¦ä¹ å¹¶å»ºç«‹ä¸ªäººäº¤æ˜“ç³»ç»Ÿï¼ŒåŒ…æ‹¬é£é™©è§„åˆ™ï¼Œå¹¶ä¸€è‡´æ‰§è¡Œã€‚", details: "ç›²ç›®äº¤æ˜“æˆ–ä¸éµå®ˆè§„åˆ™æ˜¯å¤±è´¥ä¸»å› ã€‚" },
            { mistake: "ä½¿ç”¨éé£é™©èµ„æœ¬", solution: "åªä½¿ç”¨å¯æ‰¿å—æŸå¤±çš„é—²ç½®èµ„é‡‘è¿›è¡Œäº¤æ˜“ã€‚", details: "ç”Ÿæ´»å¿…éœ€èµ„é‡‘äº¤æ˜“å‹åŠ›å·¨å¤§ï¼Œæ˜“è‡´éç†æ€§å†³ç­–ã€‚" },
            { mistake: "è¿‡åº¦/æŠ¥å¤æ€§äº¤æ˜“", solution: "äºæŸåå†·é™åˆ†æï¼Œè€Œéç«‹å³å¢åŠ äº¤æ˜“é¢‘ç‡æŒ½å›æŸå¤±ã€‚", details: "é€šå¸¸åœ¨æ— æœ‰æ•ˆä¿¡å·æ—¶è¿›è¡Œï¼Œé£é™©æ›´å¤§ã€‚" },
            { mistake: "å¿½è§†å¸‚åœºæµåŠ¨æ€§", solution: "é€‰æ‹©æµåŠ¨æ€§è¾ƒå¥½çš„å“ç§å’Œæ—¶æ®µï¼Œè¯„ä¼°èµ„äº§å˜ç°èƒ½åŠ›ã€‚", details: "ä½æµåŠ¨æ€§é¢ä¸´ç‚¹å·®æ‰©å¤§ã€æ»‘ç‚¹ã€æ‰§è¡Œå›°éš¾ã€‚" },
            { mistake: "ç›²ç›®è·Ÿå•/ä¾èµ–ä»–äºº", solution: "åŸ¹å…»ç‹¬ç«‹åˆ†æèƒ½åŠ›ï¼Œå¤–éƒ¨ä¿¡æ¯ä»…ä½œå‚è€ƒï¼Œè‡ªè¡Œè¯„ä¼°é£é™©ã€‚", details: "ç¼ºä¹è‡ªä¸»å†³ç­–ï¼Œæ˜“å—è¯¯å¯¼ã€‚" }
        ];

        // --- Inject dynamic content ---
        const riskCardsContainer = document.getElementById('risk-cards-container');
        risksData.forEach(risk => {
            const card = document.createElement('div');
            card.className = 'card p-5 cursor-pointer';
            card.innerHTML = `
                <div class="flex items-center mb-3">
                    <span class="text-3xl mr-3">${risk.icon}</span>
                    <h4 class="text-lg font-semibold accent-text">${risk.name}</h4>
                </div>
                <p class="text-sm text-gray-600 hidden">${risk.description}</p>
            `;
            card.addEventListener('click', () => {
                card.querySelector('p').classList.toggle('hidden');
                card.classList.toggle('h-auto');
            });
            riskCardsContainer.appendChild(card);
        });

        const principlesAccordion = document.getElementById('principles-accordion');
        principlesData.forEach((principle, index) => {
            const item = document.createElement('div');
            item.className = 'card';
            item.innerHTML = `
                <button class="accordion-header w-full text-left p-4 focus:outline-none flex justify-between items-center">
                    <span class="text-md font-medium">${principle.title}</span>
                    <svg class="w-5 h-5 transform transition-transform duration-200" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                </button>
                <div class="accordion-content p-4 text-sm text-gray-600 hidden">
                    ${principle.content}
                </div>
            `;
            const button = item.querySelector('.accordion-header');
            const content = item.querySelector('.accordion-content');
            const icon = button.querySelector('svg');
            button.addEventListener('click', () => {
                content.classList.toggle('hidden');
                icon.classList.toggle('rotate-180');
            });
            principlesAccordion.appendChild(item);
        });

        const planList = document.getElementById('planElementsList');
        planElementsData.forEach(itemText => {
            const listItem = document.createElement('li');
            listItem.className = 'flex items-center';
            listItem.innerHTML = `
                <input id="plan-${itemText.replace(/\s+/g, '-')}" type="checkbox" class="h-4 w-4 text-[#6C7A89] border-gray-300 rounded focus:ring-[#6C7A89] mr-3">
                <label for="plan-${itemText.replace(/\s+/g, '-')}" class="text-sm text-gray-700">${itemText}</label>
            `;
            planList.appendChild(listItem);
        });

        const emotionCardsContainer = document.getElementById('emotion-cards-container');
        emotionData.forEach(e => {
            const card = document.createElement('div');
            card.className = 'p-3 mb-2 bg-gray-50 rounded-md border border-gray-200';
            card.innerHTML = `<h5 class="font-semibold text-gray-700">${e.icon} ${e.emotion}</h5><p class="text-xs text-gray-500">${e.impact}</p>`;
            emotionCardsContainer.appendChild(card);
        });

        const disciplineList = document.getElementById('discipline-techniques-list');
        disciplineTechniques.forEach(tech => {
            const item = document.createElement('li');
            item.textContent = tech;
            disciplineList.appendChild(item);
        });

        const pitfallsContainer = document.getElementById('pitfalls-container');
        pitfallsData.forEach(pitfall => {
            const cardContainer = document.createElement('div');
            cardContainer.className = 'flip-card h-48'; // Set a fixed height for flip cards
            cardContainer.innerHTML = `
                <div class="flip-card-inner">
                    <div class="flip-card-front">
                        <h4 class="text-md font-semibold mb-1 accent-text">${pitfall.mistake}</h4>
                        <p class="text-xs text-gray-500">${pitfall.details}</p>
                        <p class="text-xs mt-2 text-gray-400">(æ‚¬åœæŸ¥çœ‹å»ºè®®)</p>
                    </div>
                    <div class="flip-card-back">
                        <h5 class="text-md font-semibold mb-1">è§„é¿æ–¹æ³•:</h5>
                        <p class="text-sm">${pitfall.solution}</p>
                    </div>
                </div>
            `;
            pitfallsContainer.appendChild(cardContainer);
        });


        // --- Chart.js Configurations ---
        Chart.defaults.font.family = "'Noto Sans SC', sans-serif";
        Chart.defaults.color = '#4A4A4A';

        function wrapLabel(str, maxWidthChars = 8) { // Adjusted for Chinese characters, approx 8-10 chars per line
            if (typeof str !== 'string') str = String(str);
            if (str.length <= maxWidthChars) return str;
            const lines = [];
            let currentLine = "";
            for (let i = 0; i < str.length; i++) {
                currentLine += str[i];
                if (currentLine.length >= maxWidthChars) {
                    lines.push(currentLine);
                    currentLine = "";
                }
            }
            if (currentLine) lines.push(currentLine);
            return lines;
        }

        const commonTooltipCallback = {
            title: function(tooltipItems) {
                const item = tooltipItems[0];
                let label = item.chart.data.labels[item.dataIndex];
                return Array.isArray(label) ? label.join('') : label; // Join without space for Chinese
            }
        };
        const commonChartOptions = {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
                legend: { display: false },
                tooltip: {
                    callbacks: commonTooltipCallback,
                    backgroundColor: 'rgba(74, 74, 74, 0.9)', // Dark Gray tooltip
                    titleFont: { weight: 'bold' },
                    bodyFont: { size: 12 },
                    padding: 10,
                    cornerRadius: 4,
                    displayColors: false
                }
            },
            scales: {
                y: { beginAtZero: true, grid: { color: '#E0D8C0' }, ticks: { color: '#6C7A89' } },
                x: { grid: { display: false }, ticks: { color: '#6C7A89', autoSkip: false, maxRotation: 0, minRotation: 0 } }
            }
        };

        // Stop Loss Concept Chart
        new Chart(document.getElementById('stopLossConceptChart'), {
            type: 'bar',
            data: {
                labels: [wrapLabel('æ— æ­¢æŸ'), wrapLabel('ç™¾åˆ†æ¯”æ­¢æŸ'), wrapLabel('æ³¢åŠ¨ç‡æ­¢æŸ')],
                datasets: [{
                    label: 'å‡è®¾èµ„æœ¬å‰©ä½™',
                    data: [60, 85, 92], // Example data
                    backgroundColor: ['#D1C5B4', '#A27B5C', '#6C7A89'],
                }]
            },
            options: commonChartOptions
        });

        // Position Sizing Donut Chart
        new Chart(document.getElementById('positionSizingDonutChart'), {
            type: 'doughnut',
            data: {
                labels: [wrapLabel('é£é™©èµ„é‡‘(1%)'), wrapLabel('å‰©ä½™èµ„é‡‘(99%)')],
                datasets: [{
                    data: [1, 99],
                    backgroundColor: ['#6C7A89', '#E0D8C0'],
                    borderColor: '#F8F7F2',
                    borderWidth: 2,
                    hoverOffset: 4
                }]
            },
            options: { ...commonChartOptions, plugins: { ...commonChartOptions.plugins, legend: { display: true, position: 'bottom', labels: { color: '#4A4A4A'} } } }
        });

        // RRR Concept Chart
        new Chart(document.getElementById('rrrConceptChart'), {
            type: 'bar',
            data: {
                labels: [wrapLabel('RRR 1:1'), wrapLabel('RRR 1:2'), wrapLabel('RRR 1:3')],
                datasets: [{
                    label: '10ç¬”äº¤æ˜“åå‡€åˆ©æ¶¦ (å‡è®¾5èµ¢5è¾“, æ¯æ¬¡é£é™©100å…ƒ)',
                    data: [0, 500, 1000], // (5*100 - 5*100), (5*200 - 5*100), (5*300 - 5*100)
                    backgroundColor: ['#D1C5B4', '#A27B5C', '#6C7A89'],
                }]
            },
            options: commonChartOptions
        });

        // Position Sizing Calculator Logic
        document.getElementById('calculatePositionSize').addEventListener('click', () => {
            const capital = parseFloat(document.getElementById('accountCapital').value);
            const riskPercent = parseFloat(document.getElementById('riskPercentage').value) / 100;
            const stopDistance = parseFloat(document.getElementById('stopLossDistance').value);
            const resultElement = document.getElementById('positionSizeResult');

            if (isNaN(capital) || isNaN(riskPercent) || isNaN(stopDistance) || capital <= 0 || riskPercent <= 0 || stopDistance <= 0) {
                resultElement.textContent = 'è¯·è¾“å…¥æœ‰æ•ˆçš„æ•°å€¼ã€‚';
                resultElement.style.color = 'red';
                return;
            }
            const maxRiskAmount = capital * riskPercent;
            resultElement.textContent = `æœ¬æ¬¡äº¤æ˜“æœ€å¤§å¯æ‰¿å—é£é™©é‡‘é¢: ${maxRiskAmount.toFixed(2)} å…ƒã€‚`;
            resultElement.style.color = '#4A4A4A';
        });

        // Leverage Slider Logic
        const leverageSlider = document.getElementById('leverageSlider');
        const leverageValueDisplay = document.getElementById('leverageValue');
        const leverageDisplay = document.getElementById('leverageDisplay');
        const leveragedOutcome = document.getElementById('leveragedOutcome');

        leverageSlider.addEventListener('input', (event) => {
            const leverage = parseInt(event.target.value);
            leverageValueDisplay.textContent = `${leverage}x`;
            leverageDisplay.textContent = `${leverage}x`;
            const baseOutcome = 100;
            const outcomeWithLeverage = baseOutcome * leverage;
            leveragedOutcome.textContent = `ç›ˆåˆ©/äºæŸ ${outcomeWithLeverage}å…ƒ`;
        });

    </script>
</body>
</html>
